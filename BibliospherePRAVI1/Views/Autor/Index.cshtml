@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@model IEnumerable<BibliospherePRAVI1.Models.Autor>

@{
    ViewData["Title"] = "Index";
}
<style>
    .author-container {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        background-color: #f7f7f7; /* Background color for each author */
        padding: 20px; /* Add padding for spacing */
    }

    .author-image {
        flex: 0 0 100px; /* Adjust width of the image */
        margin-right: 20px;
    }

    .author-details {
        flex: 1;
    }
</style>

@if (User.IsInRole("Admin") || User.IsInRole("Customer Service") || User.IsInRole("User"))
{
    <h1>Authors</h1>
    @if (User.IsInRole("Admin") || User.IsInRole("Customer Service"))
    {
        <p>
            <a asp-action="Create">Create New</a>
        </p>
    }
    else
    {

    }
    <form method="get" asp-action="Index">
        <p>
            <input type="search" placeholder="Enter author name:" value="@ViewData["autor"]" name="authorSrch" style="width:700px" />
            <input type="submit" value="Search" class="btn btn-primary" style="background-color:#416393; margin-left:15px; margin-right:15px" />
            <a asp-action="Index">Get All Authors</a>
        </p>

    </form>
    @foreach (var item in Model)
    {
        <div class="author-container">
            <div class="author-image">
                <img src="/autori/@item.autorSlika" width="100" />
            </div>
            <div class="author-details">
                <p><strong>Name:</strong> @Html.DisplayFor(modelItem => item.autorIme)</p>
                <p><strong>Last Name:</strong> @Html.DisplayFor(modelItem => item.autorPrezime)</p>
                <p><strong>Date of Birth:</strong> @Html.DisplayFor(modelItem => item.autorDatumRod)</p>
                <!-- Add more details as needed -->
                @if (User.IsInRole("Admin") || User.IsInRole("Customer Service"))
                {
                    <a asp-action="Edit" asp-route-id="@item.autorID" class="btn btn-secondary"> Edit</a>
                    <a asp-action="Delete" asp-route-id="@item.autorID" class="btn btn-secondary"> Delete </a>
                }
                <a asp-action="Details" asp-route-id="@item.autorID" class="btn btn-secondary">Details</a>
            </div>
        </div>
    }
}
else
{ }
